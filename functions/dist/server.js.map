{"version":3,"sources":["webpack://ssr-react-firebase/./functions/node_modules/dotenv/lib/main.js","webpack://ssr-react-firebase/./functions/src/render.jsx","webpack://ssr-react-firebase/./functions/src/ssr_server.js","webpack://ssr-react-firebase/./functions/src/template.js","webpack://ssr-react-firebase/./src/About.jsx","webpack://ssr-react-firebase/./webpack.config.js","webpack://ssr-react-firebase/external \"express\"","webpack://ssr-react-firebase/external \"fs\"","webpack://ssr-react-firebase/external \"path\"","webpack://ssr-react-firebase/external \"react\"","webpack://ssr-react-firebase/external \"react-dom/server\"","webpack://ssr-react-firebase/external \"source-map-support\"","webpack://ssr-react-firebase/external \"webpack\"","webpack://ssr-react-firebase/external \"webpack-dev-middleware\"","webpack://ssr-react-firebase/external \"webpack-hot-middleware\"","webpack://ssr-react-firebase/external \"webpack-node-externals\"","webpack://ssr-react-firebase/webpack/bootstrap","webpack://ssr-react-firebase/webpack/runtime/compat get default export","webpack://ssr-react-firebase/webpack/runtime/define property getters","webpack://ssr-react-firebase/webpack/runtime/hasOwnProperty shorthand","webpack://ssr-react-firebase/webpack/runtime/make namespace object","webpack://ssr-react-firebase/webpack/startup"],"names":["fs","require","path","log","message","console","NEWLINE","RE_INI_KEY_VAL","RE_NEWLINES","NEWLINES_MATCH","parse","src","options","debug","Boolean","obj","toString","split","forEach","line","idx","keyValueArr","match","key","val","end","length","isDoubleQuoted","isSingleQuoted","substring","replace","trim","config","dotenvPath","resolve","process","cwd","encoding","parsed","readFileSync","Object","keys","prototype","hasOwnProperty","call","env","e","error","module","render","req","res","body","renderToString","set","send","template","app","express","SourceMapSupport","dotenv","enableHMR","ENABLE_HMR","webpack","devMiddleware","hotMiddleware","entry","push","plugins","HotModuleReplacementPlugin","compiler","use","get","next","exports","About","nodeExternals","browserConfig","mode","output","filename","__dirname","publicPath","rules","test","exclude","loader","presets","targets","ie","edge","safari","firefox","chrome","optimization","splitChunks","name","chunks","DefinePlugin","__isBrowser__","devtool","serverConfig","server","target","externals","node"],"mappings":"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","file":"server.js","sourcesContent":["/* @flow */\n/*::\n\ntype DotenvParseOptions = {\n  debug?: boolean\n}\n\n// keys and values from src\ntype DotenvParseOutput = { [string]: string }\n\ntype DotenvConfigOptions = {\n  path?: string, // path to .env file\n  encoding?: string, // encoding of .env file\n  debug?: string // turn on logging for debugging purposes\n}\n\ntype DotenvConfigOutput = {\n  parsed?: DotenvParseOutput,\n  error?: Error\n}\n\n*/\n\nconst fs = require('fs')\nconst path = require('path')\n\nfunction log (message /*: string */) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nconst NEWLINE = '\\n'\nconst RE_INI_KEY_VAL = /^\\s*([\\w.-]+)\\s*=\\s*(.*)?\\s*$/\nconst RE_NEWLINES = /\\\\n/g\nconst NEWLINES_MATCH = /\\n|\\r|\\r\\n/\n\n// Parses src into an Object\nfunction parse (src /*: string | Buffer */, options /*: ?DotenvParseOptions */) /*: DotenvParseOutput */ {\n  const debug = Boolean(options && options.debug)\n  const obj = {}\n\n  // convert Buffers before splitting into lines and processing\n  src.toString().split(NEWLINES_MATCH).forEach(function (line, idx) {\n    // matching \"KEY' and 'VAL' in 'KEY=VAL'\n    const keyValueArr = line.match(RE_INI_KEY_VAL)\n    // matched?\n    if (keyValueArr != null) {\n      const key = keyValueArr[1]\n      // default undefined or missing values to empty string\n      let val = (keyValueArr[2] || '')\n      const end = val.length - 1\n      const isDoubleQuoted = val[0] === '\"' && val[end] === '\"'\n      const isSingleQuoted = val[0] === \"'\" && val[end] === \"'\"\n\n      // if single or double quoted, remove quotes\n      if (isSingleQuoted || isDoubleQuoted) {\n        val = val.substring(1, end)\n\n        // if double quoted, expand newlines\n        if (isDoubleQuoted) {\n          val = val.replace(RE_NEWLINES, NEWLINE)\n        }\n      } else {\n        // remove surrounding whitespace\n        val = val.trim()\n      }\n\n      obj[key] = val\n    } else if (debug) {\n      log(`did not match key and value when parsing line ${idx + 1}: ${line}`)\n    }\n  })\n\n  return obj\n}\n\n// Populates process.env from .env file\nfunction config (options /*: ?DotenvConfigOptions */) /*: DotenvConfigOutput */ {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding /*: string */ = 'utf8'\n  let debug = false\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = options.path\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n    if (options.debug != null) {\n      debug = true\n    }\n  }\n\n  try {\n    // specifying an encoding returns a string instead of a buffer\n    const parsed = parse(fs.readFileSync(dotenvPath, { encoding }), { debug })\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else if (debug) {\n        log(`\"${key}\" is already defined in \\`process.env\\` and will not be overwritten`)\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    return { error: e }\n  }\n}\n\nmodule.exports.config = config\nmodule.exports.parse = parse\n","import React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport About from '../../src/About.jsx';\r\nimport template from './template.js';\r\n\r\nfunction render(req, res) {\r\n  const body = renderToString(<About />);\r\n  res.set('Cache-Control', 'public, max-age=600, s-maxage=1200');\r\n  res.send(template(body));\r\n}\r\n\r\nexport default render;\r\n","import dotenv from 'dotenv';\r\nimport express from 'express';\r\nimport SourceMapSupport from 'source-map-support';\r\nimport render from './render.jsx';\r\n\r\nconst app = express();\r\n\r\nSourceMapSupport.install();\r\ndotenv.config();\r\nconst enableHMR = (process.env.ENABLE_HMR || 'true') === 'true';\r\n\r\nif (enableHMR && process.env.NODE_ENV !== 'production') {\r\n  console.log('Adding dev middlware, enabling HMR');\r\n  /* eslint \"global-require\": \"off\" */\r\n  /* eslint \"import/no-extraneous-dependencies\": \"off\" */\r\n  const webpack = require('webpack');\r\n  const devMiddleware = require('webpack-dev-middleware');\r\n  const hotMiddleware = require('webpack-hot-middleware');\r\n\r\n  const config = require('../../webpack.config.js')[0];\r\n  config.entry.app.push('webpack-hot-middleware/client');\r\n  config.plugins = config.plugins || [];\r\n  config.plugins.push(new webpack.HotModuleReplacementPlugin());\r\n\r\n  const compiler = webpack(config);\r\n  app.use(devMiddleware(compiler));\r\n  app.use(hotMiddleware(compiler));\r\n}\r\n\r\napp.get('*', (req, res, next) => {\r\n  render(req, res, next);\r\n});\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./render.jsx');\r\n}\r\n\r\n// export default ssrServer = functions.https.onRequest(app);\r\nexport default app;\r\n","function template(body) {\r\n  return `<!doctype html>\r\n    <head>\r\n      <title>Time</title>\r\n    </head>\r\n    <body>\r\n      <div id=\"root\">${body}</div>\r\n      <script type=\"text/javascript\" src=\"app.bundle.js\"></script>\r\n      <script type=\"text/javascript\" src=\"vendor.bundle.js\"></script>\r\n    </body>\r\n  </html>`;\r\n}\r\n\r\nmodule.exports = template;\r\n\r\n/*\r\n<script type=\"text/javascript\" src=\"../../public/app.bundle.js\"></script>\r\n      <script type=\"text/javascript\" src=\"../../public/vendor.bundle.js\"></script>\r\n*/\r\n","// npx babel src/About.jsx --out-dir functions/src\n\nimport React from 'react';\n//const React = require('react');\n\nexport default function About() {\n  return (\n    <div className=\"text-center\">\n      <h3>React Server-Side Rendering Demo version 0.9</h3>\n      <h4>API version 1.0</h4>\n    </div>\n  );\n}\n","const path = require('path');\r\nconst nodeExternals = require('webpack-node-externals');\r\nconst webpack = require('webpack');\r\n\r\nconst browserConfig = {\r\n  mode: 'development',\r\n  entry: { app: ['./src/index.js'] },\r\n  output: {\r\n    filename: '[name].bundle.js',\r\n    path: path.resolve(__dirname, 'public'),\r\n    publicPath: '/',\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.jsx?$/,\r\n        exclude: /node_modules/,\r\n        use: {\r\n          loader: 'babel-loader',\r\n          options: {\r\n            presets: [\r\n              [\r\n                '@babel/preset-env',\r\n                {\r\n                  targets: {\r\n                    ie: '11',\r\n                    edge: '15',\r\n                    safari: '10',\r\n                    firefox: '50',\r\n                    chrome: '49',\r\n                  },\r\n                },\r\n              ],\r\n              '@babel/preset-react',\r\n            ],\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  optimization: {\r\n    splitChunks: {\r\n      name: 'vendor',\r\n      chunks: 'all',\r\n    },\r\n  },\r\n  plugins: [\r\n    new webpack.DefinePlugin({\r\n      __isBrowser__: 'true',\r\n    }),\r\n  ],\r\n  devtool: 'source-map',\r\n};\r\n\r\nconst serverConfig = {\r\n  mode: 'development',\r\n  entry: { server: ['./functions/src/ssr_server.js'] },\r\n  target: 'node',\r\n  externals: [nodeExternals()],\r\n  output: {\r\n    filename: 'server.js',\r\n    path: path.resolve(__dirname, 'functions/dist'),\r\n    publicPath: '/',\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.jsx?$/,\r\n        use: {\r\n          loader: 'babel-loader',\r\n          options: {\r\n            presets: [\r\n              [\r\n                '@babel/preset-env',\r\n                {\r\n                  targets: { node: '10' },\r\n                },\r\n              ],\r\n              '@babel/preset-react',\r\n            ],\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  },\r\n  plugins: [\r\n    new webpack.DefinePlugin({\r\n      __isBrowser__: 'false',\r\n    }),\r\n  ],\r\n  devtool: 'source-map',\r\n};\r\n\r\nmodule.exports = [browserConfig, serverConfig];\r\n","module.exports = require(\"express\");;","module.exports = require(\"fs\");;","module.exports = require(\"path\");;","module.exports = require(\"react\");;","module.exports = require(\"react-dom/server\");;","module.exports = require(\"source-map-support\");;","module.exports = require(\"webpack\");;","module.exports = require(\"webpack-dev-middleware\");;","module.exports = require(\"webpack-hot-middleware\");;","module.exports = require(\"webpack-node-externals\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./functions/src/ssr_server.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}